<!--
 * @Author: your name
 * @Date: 2020-01-08 14:26:20
 * @LastEditTime: 2020-01-09 10:49:12
 * @LastEditors: your name
 * @Description: In User Settings Edit
 * @FilePath: \web\page\signup\zhuce.html
 -->
<!DOCTYPE html>
<html>
<head>
	<title>Login</title>
	<link rel="stylesheet" type="text/css" href="/css/waifu.css"/>
	<script src="/js/autoload.js"></script>
	<script src="/js/jquery-3.4.1.min.js"></script>
	<link rel="shortcut icon" href="/images/favicon.png" />
		<meta charset="utf-8">
		<link href="/page/signup/css/style.css" rel='stylesheet' type='text/css' />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
		<script src="/js/jquery-3.4.1.min.js"></script>
	<!-- 实现拖动效果，需引入 JQuery UI -->
	<script src="assets/jquery-ui.min.js?v=1.12.1"></script>
</head>
<body class="qaz">
	 <!-----start-main---->
	 <div class="main">
		<div class="login-form">
			<h1 class="qwe">公益之家</h1>
					<div class="head" >
						<img src="/page/signup/images/wu.png" onclick="window.location.href='../../index.html'" alt=""/>
					</div>
				<div style="padding-bottom: 20px;padding-top: 40px;margin: auto;width: 80%;height: 80%">

						<input type="text" class="text" id="name" name="name" placeholder="输入账号">
						<input type="password" class="text" id="pass1"  name="pass1" placeholder="输入密码">
						<input type="password" class="text" id="pass2"  name="pass2"  placeholder="确认密码">
						<input type="email" class="text" id="email" name="email" placeholder="输入邮箱啊╭(╯3╰)╮">
					<!--注册-->
					<div class="zhuce">
						<input type="button" class="xoo" id="GetName" name="GetName" value="注册账户" >
					</div>
					<div class="submit" >
						<input type="button" class="xoo" id="denglu"  name="denglu" value="去登陆" onclick="window.location.href='../login/login.html';">
					</div>
				</div>
			</div>
		</div>
	 <div class="waifu">
		 <div class="waifu-tips"></div>
		 <canvas id="live2d" class="live2d"></canvas>
		 <div class="waifu-tool">
			 <span class="fui-home"></span>
			 <span class="fui-chat"></span>
			 <span class="fui-eye"></span>
			 <span class="fui-user"></span>
			 <span class="fui-photo"></span>
			 <span class="fui-info-circle"></span>
			 <span class="fui-cross"></span>
		 </div>
	 </div>
	 <script src="assets/waifu-tips.min.js?v=1.4.2"></script>
	 <script src="assets/live2d.min.js?v=1.0.5"></script>
	 <script type="text/javascript">
		 /* 可直接修改部分参数 */
		 live2d_settings['modelId'] = 1;                  // 默认模型 ID
		 live2d_settings['modelTexturesId'] = 87;         // 默认材质 ID
		 live2d_settings['modelStorage'] = false;         // 不储存模型 ID
		 live2d_settings['canCloseLive2d'] = false;       // 隐藏 关闭看板娘 按钮
		 live2d_settings['canTurnToHomePage'] = false;    // 隐藏 返回首页 按钮
		 live2d_settings['waifuSize'] = '280x250';        // 看板娘大小
		 live2d_settings['waifuTipsSize'] = '250x70';    // 提示框大小
		 live2d_settings['waifuFontSize'] = '12px';       // 提示框字体
		 live2d_settings['waifuToolFont'] = '14px';       // 工具栏字体
		 live2d_settings['waifuToolLine'] = '20px';       // 工具栏行高
		 live2d_settings['waifuToolTop'] = '0px';       // 工具栏顶部边距
		 live2d_settings['waifuDraggable'] = 'axis-x';    // 拖拽样式
		 live2d_settings['waifuDraggableRevert'] = false;
		 /* 在 initModel 前添加 */
		 initModel("assets/waifu-tips.json?v=1.4.2")
	 </script>
	 <script src="https://pv.sohu.com/cityjson?ie=utf-8"></script>
	 <script src="/js/live2d.js"></script>
	 <script src="/js/waifu-tips.js"></script>
	 <script src="/js/jquery-ui.min.js?v=1.12.1"></script>
	 <script type="text/javascript">
		 live2d_settings['modelId'] = 1;
		 live2d_settings['modelTexturesId'] = 87;
		 initModel("json/waifu-tips.json")
	 </script>
	 <script>
		 $(function () {
			 $("#GetName").on("click", function () {
				 var name =$("#name").val();
				 var pass1 =$("#pass1").val();
				 var pass2 =$("#pass2").val();
				 var email = $("#email").val();

				 var now = new Date();
				 var year = now.getFullYear(); //得到年份
				 var month = now.getMonth();//得到月份
				 var date = now.getDate();//得到日期
				 var hour = now.getHours();//得到小时
				 var minu = now.getMinutes();//得到分钟
				 var sec = now.getSeconds();//得到秒
				 var signupdata = year+"年"+month+"月"+date+"日 "+hour+"时"+minu+"分"+sec+"秒";


				 if (name==null ||name==""){
					 alert('请输入用户名');
				 }else if(pass1=="" || pass1==null){
					 alert('请输入密码');
				 }else if(pass2=="" || pass2==null){
					 alert('请输入确认密码');
				 }else if(email=="" || email==null){
					 alert('请输入邮箱');
				 }else if(pass1 !== pass2){
					 alert('两次密码不正确');
				 }else{
					 var reg = /^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/;
					 var rqel = /^.([a-zA-Z]{7,16})$/;
					 if(rqel.test(name)){
						 if(reg.test(email)){
							 $.ajax({
								 url: "/signup",    //请求的url地址
								 data: {"name": name,"email":email,"password": pass1},    //参数值
								 type: "POST",
								 async:true,
								 dataType: "text",   //返回格式为json
								 success: function () {
									 //请求成功时处理
									 // console.log(data);
									 window.location.href="/";
								 }
							 });
						 }else{
							 alert("邮箱格式不正确");
						 }
					 }else{
						 alert("用户名要8到16位的字母哦！！！");
					 }
				 }

			 });
		 });
	 </script>
</body>
</html>